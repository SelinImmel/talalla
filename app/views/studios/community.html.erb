<div class="community-container">
  <div class="row">
    <div class="col-3 channels">
      <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">

        <% @categories.each do |cat| %>
            <% if @categories.first == cat %>
            <a class="nav-link channel active" id="v-pills-<%= cat.id %>-tab" data-toggle="pill" href="#v-pills-<%= cat.id %>" role="tab" aria-controls="v-pills-<%= cat.id %>" aria-selected="true"><h2><%= cat.title %></h2></a>
            <% else %>
            <a class="nav-link channel" id="v-pills-<%= cat.id %>-tab" data-toggle="pill" href="#v-pills-<%= cat.id %>" role="tab" aria-controls="v-pills-<%= cat.id %>" aria-selected="true"><h2><%= cat.title %></h2></a>
            <% end %>
        <% end %>
        <%= link_to new_category_path, title: 'Add a new channel', class: 'new-channel' do %>
          <i class="fas fa-plus add-button"></i>
        <% end %>
      </div>
    </div>
    <div class="col-9 conversations">
      <div class="tab-content" id="v-pills-tabContent">
        <!-- hard code the first channel-category to be open upon entering the community view -->
        <% @categories.each do |cat| %>
          <% if @categories.first == cat %>
          <div class="tab-pane fade show active" id="v-pills-<%= cat.id %>" role="tabpanel" aria-labelledby="v-pills-<%= cat.id %>">
            <%= render "category_posts", category: cat %>
          </div>
          <% else %>
            <div class="tab-pane fade show" id="v-pills-<%= cat.id %>" role="tabpanel" aria-labelledby="v-pills-<%= cat.id %>">
              <%= render "category_posts", category: cat %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>



























